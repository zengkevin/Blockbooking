<div>
  <h3>Block Booking</h3>
  <div class="col-md-6">
    <div [hidden]="!saveError" class="alert alert-danger" role="alert">
      {{saveError}}
    </div>
    <form [formGroup]="form" (ngSubmit)="saveBlockbooking(form.value)" autocomplete="off" novalidate>
      <div class="form-group" [ngClass]="{'error': description.invalid && description.touched}">
          <label for="description">Description:</label>
          <em *ngIf="description.invalid && description.touched">Required</em>
          <input #description formControlName="description" name="description" required id="description" type="text" class="form-control"/>
      </div>
      <div class="form-group" [ngClass]="{'error': date.invalid && date.touched}">
        <label for="date">Start Date:</label>
        <em *ngIf="date.invalid && date.touched">Required</em>
        <input #dateEl formControlName="date" name="date" required id="date" type="date" class="form-control"/>
      </div>
      <div class="form-group" [ngClass]="{'error': time.invalid && time.touched}">
        <label for="time">Start Time:</label>
        <em *ngIf="time.invalid && time.touched">Required</em>
        <input #timeEl formControlName="time" name="time" required id="time" type="time" class="form-control"/>
      </div>
      <div class="form-group" [ngClass]="{'error': duration.invalid && duration.touched}">
        <label for="duration">Duration (minutes):</label>
        <em *ngIf="duration.invalid && duration.touched && duration.errors?.required">Required</em>
        <em *ngIf="duration.invalid && duration.touched && duration.errors?.min">Minimum value is 0</em>
        <em *ngIf="duration.invalid && duration.touched && duration.errors?.min">Maximum value is 1439</em>
        <input formControlName="duration" name="duration" required id="duration" type="number" min="0" max="1439" class="form-control" />
      </div>
      <div class="form-group">
        <label>Repeat Weekly</label>
        <p>
        <input #repeatMonday formControlName="repeatMonday" Name="repeatMonday" id="repeatMonday" type="checkbox" />
        <label for="repeatMonday">Monday</label>&nbsp;&nbsp;
        <input #repeatTuesday formControlName="repeatTuesday" Name="repeatTuesday" id="repeatTuesday" type="checkbox" />
        <label for="repeatTuesday">Tuesday</label>&nbsp;&nbsp;
        <input #repeatWednesday formControlName="repeatWednesday" Name="repeatWednesday" id="repeatWednesday" type="checkbox" />
        <label for="repeatWednesday">Wednesday</label>&nbsp;&nbsp;
        <input #repeatThursday formControlName="repeatThursday" Name="repeatThursday" id="repeatThursday" type="checkbox" />
        <label for="repeatThursday">Thursday</label>&nbsp;&nbsp;
        <input #repeatFriday formControlName="repeatFriday" Name="repeatFriday" id="repeatFriday" type="checkbox" />
        <label for="repeatFriday">Friday</label>&nbsp;&nbsp;
        <input #repeatSaturday formControlName="repeatSaturday" Name="repeatSaturday" id="repeatSaturday" type="checkbox" />
        <label for="repeatSaturday">Saturday</label>&nbsp;&nbsp;
        <input #repeatSunday formControlName="repeatSunday" Name="repeatSunday" id="repeatSunday" type="checkbox" />
        <label for="repeatSunday">Sunday</label>&nbsp;&nbsp;
        </p>
      </div>
      <div *ngIf="blockbooking.recurrence.length" 
          class="form-group" [ngClass]="{'error': dateEnd.invalid && dateEnd.touched}">
          <label for="dateEnd">End Date:</label>
          <em *ngIf="dateEnd.invalid && dateEnd.touched">Required</em>
          <input #dateEl2 formControlName="dateEnd" name="dateEnd" required id="dateEnd" type="date" class="form-control"/>
      </div>
      <button type="submit" [disabled]="form.invalid" class="btn btn-primary">Save</button>
      <button type="button" class="btn btn-default" (click)="cancel()">Cancel</button>
      </form>
  </div>
</div>
